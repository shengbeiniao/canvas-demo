<!DOCTYPE html>
<html>
<head lang="cn">
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="canvas demo">
    <meta name="author" content="三直">
    <title></title>
    <!--<script src="../assets/scripts/mobile-detect.js"></script>-->
    <script src="../assets/lib/modernizr-custom.js"></script>
    <link rel="stylesheet" type="text/css" href="../assets/styles/main.css">
    <style>
        canvas{
            width: 100%;
            height: 100%;
            background-color: black;
        }
    </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
    var canvas=document.getElementById('canvas');
    var W=window.innerWidth;
    var H=window.innerHeight;
    canvas.width=W;
    canvas.height=H;

    var ctx=canvas.getContext('2d');

    var image=new Image();
    image.src='../assets/images/z.jpg';
    var x=50,y=50;

    function drawImage(){
        ctx.save();
        ctx.clearRect(0,0,W,H);
        ctx.beginPath();
        ctx.arc(x,y,50,0,2*Math.PI);
        ctx.clip();
        ctx.drawImage(image,0,0);
        ctx.restore();
    };

    function animate(){
        drawImage();
        if(x<=image.width-50){
            x+=10;
        }else{
            x=50;
            y+=100;
        }
        if(y>=image.height-50){
            y=50;
        }
        window.requestAnimationFrame(animate);
    };

    image.onload=function(){
        window.requestAnimationFrame(animate);
    };

</script>
</body>
</html>
